<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Linux误删python导致yum不可用，删除重装方法。</title>
    <url>/2019/11/30/Linux%E8%AF%AF%E5%88%A0python%E5%AF%BC%E8%87%B4yum%E4%B8%8D%E5%8F%AF%E7%94%A8%EF%BC%8C%E5%88%A0%E9%99%A4%E9%87%8D%E8%A3%85%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>原文链接：<a href="https://blog.csdn.net/codeLife1993/article/details/89679586" target="_blank" rel="noopener">https://blog.csdn.net/codeLife1993/article/details/89679586</a><br>linux上面因安装docker所需的东西，慢慢开始下载pip 然后升级，然后解决问题，最后导致想要卸载python，<br>之后就是卸载了python所有相关组件及依赖，导致yum命令不存在。解决办法如下。</p>
<h2 id="1-首先卸载现有python"><a href="#1-首先卸载现有python" class="headerlink" title="1.首先卸载现有python"></a>1.首先卸载现有python</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -qa|grep python|xargs rpm -ev --allmatches --nodeps <span class="comment">#卸载python</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">whereis python |xargs rm -frv	 <span class="comment">##删除所有残余文件</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">whereis python <span class="comment">##验证删除，返回无结果</span></span></pre></td></tr></table></figure>
<h2 id="2-删除现有的yum"><a href="#2-删除现有的yum" class="headerlink" title="2.删除现有的yum"></a>2.删除现有的yum</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -qa|grep yum|xargs rpm -ev --allmatches --nodeps <span class="comment">#删除yum</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">whereis yum |xargs rm -frv <span class="comment">#删除残留文件</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">whereis yum <span class="comment">#验证删除完成</span></span></pre></td></tr></table></figure>
<h2 id="3-找到下载文件源"><a href="#3-找到下载文件源" class="headerlink" title="3.找到下载文件源"></a>3.找到下载文件源</h2><p>首先在 <a href="http://vault.centos.org/" target="_blank" rel="noopener">http://vault.centos.org/</a> 找到服务器对应的版本，如linux版本6.8进入 <a href="http://vault.centos.org/6.8/Packages/" target="_blank" rel="noopener">http://vault.centos.org/6.8/Packages/</a> 目录找到对应版本的rpm，替换下面的文件。</p>
<h2 id="4-Python及yum下载及安装"><a href="#4-Python及yum下载及安装" class="headerlink" title="4.Python及yum下载及安装"></a>4.Python及yum下载及安装</h2><h3 id="python下载及安装"><a href="#python下载及安装" class="headerlink" title="python下载及安装"></a>python下载及安装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps http://vault.centos.org/6.8/os/x86_64/Packages/python-2.6.6-64.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps http://vault.centos.org/6.8/os/x86_64/Packages/python-devel-2.6.6-64.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps http://vault.centos.org/6.8/os/x86_64/Packages/python-iniparse-0.3.1-2.1.el6.noarch.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps http://vault.centos.org/6.8/os/x86_64/Packages/python-libs-2.6.6-64.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps http://vault.centos.org/6.8/os/x86_64/Packages/python-pycurl-7.19.0-9.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps http://vault.centos.org/6.8/os/x86_64/Packages/python-urlgrabber-3.9.1-11.el6.noarch.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps http://vault.centos.org/6.8/os/x86_64/Packages/rpm-python-4.8.0-55.el6.x86_64.rpm</span></pre></td></tr></table></figure>
<h3 id="yum下载及安装"><a href="#yum下载及安装" class="headerlink" title="yum下载及安装"></a>yum下载及安装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps http://vault.centos.org/6.8/os/x86_64/Packages/yum-3.2.29-73.el6.centos.noarch.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps http://vault.centos.org/6.8/os/x86_64/Packages/yum-metadata-parser-1.1.2-16.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps http://vault.centos.org/6.8/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.30-37.el6.noarch.rpm</span></pre></td></tr></table></figure>
<h2 id="5-下载及安装无法完成"><a href="#5-下载及安装无法完成" class="headerlink" title="5.下载及安装无法完成"></a>5.下载及安装无法完成</h2><h3 id="上面的下载及安装无法完成的话可以使用如下操作"><a href="#上面的下载及安装无法完成的话可以使用如下操作" class="headerlink" title="上面的下载及安装无法完成的话可以使用如下操作:"></a>上面的下载及安装无法完成的话可以使用如下操作:</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># python下载</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">wget http://vault.centos.org/6.8/os/x86_64/Packages/python-devel-2.6.6-64.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">wget http://vault.centos.org/6.8/os/x86_64/Packages/python-iniparse-0.3.1-2.1.el6.noarch.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">wget http://vault.centos.org/6.8/os/x86_64/Packages/python-libs-2.6.6-64.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">wget http://vault.centos.org/6.8/os/x86_64/Packages/python-pycurl-7.19.0-9.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">wget http://vault.centos.org/6.8/os/x86_64/Packages/python-urlgrabber-3.9.1-11.el6.noarch.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">wget http://vault.centos.org/6.8/os/x86_64/Packages/rpm-python-4.8.0-55.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"># yum下载</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">wget http://vault.centos.org/6.8/os/x86_64/Packages/yum-3.2.29-73.el6.centos.noarch.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">wget http://vault.centos.org/6.8/os/x86_64/Packages/yum-metadata-parser-1.1.2-16.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">wget http://vault.centos.org/6.8/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.30-37.el6.noarch.rpm</span></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># python安装</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps python-devel-2.6.6-64.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps python-iniparse-0.3.1-2.1.el6.noarch.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps python-libs-2.6.6-64.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps python-pycurl-7.19.0-9.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps python-urlgrabber-3.9.1-11.el6.noarch.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps rpm-python-4.8.0-55.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"># yum安装</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps yum-3.2.29-73.el6.centos.noarch.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps yum-metadata-parser-1.1.2-16.el6.x86_64.rpm</span></pre></td></tr><tr><td class="code"><pre><span class="line">rpm -ivh --nodeps yum-plugin-fastestmirror-1.1.30-37.el6.noarch.rpm</span></pre></td></tr></table></figure>
<h2 id="6-最后验证一下"><a href="#6-最后验证一下" class="headerlink" title="6.最后验证一下"></a>6.最后验证一下</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python <span class="comment">#验证python</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">yum <span class="comment">#验证yum</span></span></pre></td></tr></table></figure>
<p>date: 2019-11-30 19:03:43<br>tags: 人生不可能一帆风顺，不风顺的时候说明你必须要需学习了。</p>
<hr>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>docker</tag>
        <tag>python</tag>
        <tag>yum</tag>
      </tags>
  </entry>
</search>
